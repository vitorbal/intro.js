(function(l,f){"object"===typeof exports?f(exports):"function"===typeof define&&define.amd?define(["exports"],f):f(l)})(this,function(l){function f(a){this._targetElement=a;this._options={overlayOpacity:0.5,highlightPadding:10,nextButton:".introjs-next",prevButton:".introjs-prev",skipButton:".introjs-skip",stepIdentifier:"*"}}function s(a){var c=document.createElement("div");c.appendChild(a.cloneNode(!0));return c.innerHTML}function k(){"undefined"===typeof this._currentStep?this._currentStep=0:++this._currentStep;
if(this._introItems.length<=this._currentStep)"function"===typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),j.call(this,this._targetElement);else{var a=this._introItems[this._currentStep];n.call(this,a.element,a.content,a.scrollTo,a.highlightPadding)}}function p(){if(0===this._currentStep)return!1;var a=this._introItems[--this._currentStep];n.call(this,a.element,a.content,a.scrollTo,a.highlightPadding)}function j(a){var c=a.querySelector(".introjs-overlay");c.style.opacity=
0;setTimeout(function(){c.parentNode&&c.parentNode.removeChild(c)},500);(a=a.querySelector(".introjs-helperLayer"))&&a.parentNode.removeChild(a);if(a=document.querySelector(".introjs-showElement"))a.className=a.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown);this._currentStep=void 0;void 0!=this._introExitCallback&&this._introExitCallback.call(this)}
function n(a,c,e,b){var d;!b&&0!==b&&(b=this._options.highlightPadding);"undefined"!==typeof this._introChangeCallback&&this._introChangeCallback.call(this,a,c);var f=this,g=document.querySelector(".introjs-helperLayer");d=q(a);if(null!=g)g.innerHTML="",g.setAttribute("style","width: "+(d.width+2*b)+"px; height:"+(d.height+2*b)+"px; top:"+(d.top-b)+"px;left: "+(d.left-b)+"px;"),b=document.querySelector(".introjs-showElement"),b.className=b.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,
""),f._lastShowElementTimer&&clearTimeout(f._lastShowElementTimer),f._lastShowElementTimer=setTimeout(function(){g.innerHTML=c;r.call(f,g)},350);else{var h=document.createElement("div");h.className="introjs-helperLayer";h.setAttribute("style","width: "+(d.width+2*b)+"px; height:"+(d.height+2*b)+"px; top:"+(d.top-b)+"px;left: "+(d.left-b)+"px;");this._targetElement.appendChild(h);h.innerHTML=c;r.call(this,h)}a.className+=" introjs-showElement";b="";a.currentStyle?b=a.currentStyle.position:document.defaultView&&
document.defaultView.getComputedStyle&&(b=document.defaultView.getComputedStyle(a,null).getPropertyValue("position"));b=b.toLowerCase();"absolute"!==b&&"relative"!==b&&(a.className+=" introjs-relativePosition");d=a.getBoundingClientRect();b=d.bottom-(d.bottom-d.top);h=d.bottom;d=void 0!=window.innerWidth?window.innerHeight:document.documentElement.clientHeight;d=h-d;e||0===e?window.scrollTo(0,b-e):(a=a.getBoundingClientRect(),0<=a.top&&0<=a.left&&a.bottom+80<=window.innerHeight&&a.right<=window.innerWidth||
(0>d?window.scrollBy(0,d+100):window.scrollBy(0,b-30)))}function r(a){var c=this,e=a.querySelector(this._options.nextButton),b=a.querySelector(this._options.prevButton);a=a.querySelector(this._options.skipButton);e&&(e.onclick=function(){k.call(c)});b&&(b.onclick=function(){p.call(c)});a&&(a.href="javascript:void(0);",a.onclick=function(){j.call(c,c._targetElement)})}function t(a){var c=document.createElement("div"),e="",b=this;c.className="introjs-overlay";if("body"===a.tagName.toLowerCase())e+=
"top: 0;bottom: 0; left: 0;right: 0;position: fixed;",c.setAttribute("style",e);else{var d=q(a);d&&(e+="width: "+d.width+"px; height:"+d.height+"px; top:"+d.top+"px;left: "+d.left+"px;",c.setAttribute("style",e))}a.appendChild(c);c.onclick=function(){j.call(b,a)};setTimeout(function(){e+="opacity: "+b._options.overlayOpacity+";";c.setAttribute("style",e)},10);return!0}function q(a){var c={};c.width=a.offsetWidth;c.height=a.offsetHeight;for(var e=0,b=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)e+=
a.offsetLeft,b+=a.offsetTop,a=a.offsetParent;c.top=b;c.left=e;return c}var m=function(a){if("object"===typeof a)return new f(a);if("string"===typeof a){if(a=document.querySelector(a))return new f(a);throw Error("There is no element with given selector.");}return new f(document.body)};m.version="0.3.0";m.fn=f.prototype={clone:function(){return new f(this)},setOption:function(a,c){this._options[a]=c;return this},setOptions:function(a){var c=this._options,e={},b;for(b in c)e[b]=c[b];for(b in a)e[b]=
a[b];this._options=e;return this},start:function(){var a=this._targetElement,c=a.querySelectorAll(this._options.stepIdentifier+"[data-intro-step]"),e=[],b=this;if(!(1>c.length)){for(var d=0,f=c.length;d<f;d++){var g=c[d];e.push({element:a.querySelector(g.getAttribute("data-intro-element")),content:s(g),step:parseInt(g.getAttribute("data-intro-step"),10),scrollTo:parseInt(g.getAttribute("data-intro-scroll-to"),10),highlightPadding:parseInt(g.getAttribute("data-intro-padding"),10)})}e.sort(function(a,
b){return a.step-b.step});b._introItems=e;t.call(b,a)&&(k.call(b),b._onKeyDown=function(c){27===c.keyCode?j.call(b,a):37===c.keyCode?p.call(b):(39===c.keyCode||13===c.keyCode)&&k.call(b)},window.addEventListener?window.addEventListener("keydown",b._onKeyDown,!0):document.attachEvent&&document.attachEvent("onkeydown",b._onKeyDown))}return this},goToStep:function(a){this._currentStep=a-2;"undefined"!==typeof this._introItems&&k.call(this);return this},exit:function(){j.call(this,this._targetElement)},
onchange:function(a){if("function"===typeof a)this._introChangeCallback=a;else throw Error("Provided callback for onchange was not a function.");return this},oncomplete:function(a){if("function"===typeof a)this._introCompleteCallback=a;else throw Error("Provided callback for oncomplete was not a function.");return this},onexit:function(a){if("function"===typeof a)this._introExitCallback=a;else throw Error("Provided callback for onexit was not a function.");return this}};return l.introJs=m});
